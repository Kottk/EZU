package fazeCastStreamTest;
import java.io.*;
import java.util.*;

import com.fazecast.jSerialComm.*;

public class StreamTest {
	
	private InputStream input = null;
    private OutputStream output = null;
    byte[] message = {(byte)0x80, 0x10, (byte)0xF0, 0x08, (byte)0xA8, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x1C, 0x54};
    byte[] response = {};
    
    
    static SerialPort comPort = SerialPort.getCommPorts()[1];
    
	public static void main(String[] args){
		
		comPort.setComPortParameters(4800,8,1,0);
		comPort.openPort();
		
		
		
	
	
	}
	public boolean initIOStream(){
		boolean successful = false;
		
		input = comPort.getInputStream();
		output = comPort.getOutputStream();
		
		successful = true;
		return successful;
		
	}
	public void initListener(){
		comPort.addDataListener((SerialPortDataListener) this);
	}
	public void serialEvent(SerialPortEvent evt){
		if (evt.getEventType() == 1){
			try {
				for(int i = 0; comPort.bytesAvailable() > i; i++ ){
					byte singleData = (byte)input.read();
					response[i] = singleData;
				}
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
		}
	}
}
